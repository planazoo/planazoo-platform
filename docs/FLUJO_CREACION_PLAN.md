# üîÑ Flujo de Creaci√≥n de Plan Completo

> Documento de definici√≥n del proceso completo para crear un plan

**Estado:** Definici√≥n  
**Versi√≥n:** 1.0  
**Fecha:** Enero 2025

---

## üéØ Objetivo

Definir el flujo completo e ideal para crear un plan desde cero hasta que est√© listo para la ejecuci√≥n, identificando qu√© existe actualmente, qu√© falta y qu√© necesita mejorarse.

---

## üìä Etapas del Flujo

### ETAPA 0: Pre-creaci√≥n - Decisi√≥n y Concepci√≥n
**Estado actual:** ‚ö†Ô∏è Parcialmente implementado

#### Opciones de Creaci√≥n:
- [x] Crear plan desde cero
- [ ] **Copiar plan existente** (Prioridad ALTA - T118)
- [ ] Plantillas predefinidas (Para versiones posteriores)
- [ ] Asistente inteligente de creaci√≥n (Para versiones posteriores)

**CASOS DE GESTI√ìN DE PLAN (parte del flujo normal):**
- **Copiar plan completo:** ‚úÖ Permitido ‚Üí Copiar estructura, eventos, alojamientos, ajustar fechas a nuevo rango, opcional copiar participantes, guardar como nuevo plan, notificar participantes nuevos (T104)
- **Eliminar plan DURANTE planificaci√≥n:** ‚úÖ Con confirmaci√≥n ‚Üí Eliminar todo, notificar participantes, archivar hist√≥rico, cancelar eventos futuros
- **Eliminar plan DURANTE ejecuci√≥n:** ‚ùå No permitido ‚Üí Solo cancelar plan (marcar como cancelado, mantener hist√≥rico, notificar, no eliminar)
- **Eliminar plan DESPU√âS de ejecuci√≥n:** ‚ùå No eliminar ‚Üí Archivar plan, mantener hist√≥rico completo, bloquear cambios
- **Duplicar plan:** ‚úÖ Permitido ‚Üí Crear nuevo plan con mismo contenido, ajustar fechas, opcional incluir participantes

**Nota:** Copiar un plan existente es funcionalidad importante que ya existe como T118.

---

### ETAPA 1: Configuraci√≥n Inicial del Plan
**Objetivo:** Definir la estructura b√°sica del plan

#### 1.1 - Informaci√≥n B√°sica ‚úÖ Implementado
- [x] Nombre del plan
- [x] Fechas inicio/fin
- [x] C√≥digo √∫nico (unpId)
- [x] Imagen del plan
- [x] Descripci√≥n breve

**Lo que falta:**
- [ ] Presupuesto estimado del plan
- [ ] Etiquetas/Categor√≠as del plan (Vacaciones, Negocios, Boda, etc.)
- [ ] Estado del plan (Planificando, Confirmado, En curso, Finalizado) - T109
- [ ] Destinos principales del plan (para mapa T114)
- [ ] Guardar plan como plantilla (Nueva tarea - plataforma plantillas futura)

#### 1.2 - Participantes ‚úÖ Implementado b√°sicamente
- [x] A√±adir participantes en creaci√≥n
- [x] Rol organizador/participante/observador
- [x] Timezone inicial de cada participante

**PROPUESTAS DE INVITACI√ìN INTELIGENTE:**
1. **Por email** (sin app): Invitar por email con link de acceso
2. **Por usuario app**: Invitar usuarios registrados con notificaci√≥n push
3. **Importar contactos**: Sugerir contactos frecuentes
4. **Agrupaci√≥n inteligente**: 
   - Crear "grupos" (Familia, Amigos, Compa√±eros trabajo)
   - Reutilizar grupos en nuevos planes
   - Invitar todo un grupo de una vez

**PROPUESTAS DE ROLES:**
- **Anfitri√≥n** (creador): Permisos totales, propietario del plan
- **Coorganizador**: Puede modificar y gestionar casi todo
- **Invitado**: Ve todo, puede ajustar su parte personal
- **Observador**: Solo lectura

**CASOS DE CAMBIO DE PARTICIPANTES (parte del flujo normal):**
- **A√±adir participante DURANTE planificaci√≥n:** ‚úÖ Permitido ‚Üí Enviar invitaci√≥n, crear track, asignar a eventos futuros opcionales
- **A√±adir participante DURANTE ejecuci√≥n:** ‚ö†Ô∏è Permitido ‚Üí Enviar invitaci√≥n, crear track, NO asignar a eventos ya ejecutados
- **Eliminar participante DURANTE planificaci√≥n:** ‚ö†Ô∏è Con confirmaci√≥n ‚Üí Eliminar tracks y eventos futuros solo suyos, mantener hist√≥rico, notificar
- **Eliminar participante DURANTE ejecuci√≥n:** ‚ö†Ô∏è Urgente ‚Üí Eliminar eventos futuros, mantener hist√≥rico y eventos ejecutados, recalcular reembolsos si aplica (T102)
- **Cambiar rol de participante:** ‚úÖ Permitido ‚Üí Actualizar permisos, ajustar tracks si cambio de observador a participante o viceversa

**Lo que falta:**
- [ ] Sistema de invitaciones por email/usuario (T104)
- [ ] Confirmaci√≥n de asistencia por participantes (Aceptar/Rechazar)
- [ ] Estado de invitaci√≥n por participante (Pendiente, Aceptada, Rechazada)
- [ ] L√≠mite de participantes (configurable)
- [x] Auto-actualizaci√≥n de timezone al viajar (‚úÖ Ya implementado)
- [ ] Roles personalizados (anfitri√≥n, coorganizador, invitado, observador)
- [ ] Grupos de participantes reutilizables
- [ ] Permisos granulares por participante (T65-T67)
- [ ] Sistema de notificaciones autom√°ticas para cambios de participantes (T105)
- [ ] Historial de cambios de participantes (qui√©n, cu√°ndo, qu√© cambi√≥)

#### 1.3 - Configuraci√≥n de Duraci√≥n ‚ö†Ô∏è Implementado b√°sico
- [x] Fechas inicio/fin
- [x] C√°lculo autom√°tico columnas

**Lo que falta:**
- [ ] Auto-expansi√≥n si eventos salen fuera del rango (T107)
- [ ] Vista previa de d√≠as del plan
- [ ] Configurar dias restantes hasta inicio (T112)

---

### ETAPA 2: Planificaci√≥n de Actividades
**Objetivo:** A√±adir eventos, desplazamientos y alojamientos al plan

#### 2.1 - A√±adir Eventos ‚úÖ Implementado b√°sico
- [x] Crear eventos b√°sicos
- [x] Asignar a participantes
- [x] T√≠tulo, fecha, hora, duraci√≥n
- [x] Timezone de inicio
- [x] Participantes del evento

**LO QUE FALTA (T121 - Revisi√≥n Formularios):**
- [ ] Formularios enriquecidos por tipo de evento (seg√∫n doc `EVENT_FORM_FIELDS.md`)
- [ ] Localizaci√≥n/Mapa integrado
- [ ] Informaci√≥n detallada seg√∫n tipo (ej: vuelo con asiento, gate, etc.)
- [ ] Documentos adjuntos (ej: ticket, reserva PDF)
- [ ] Costs/Precios por evento (T101 - Presupuesto)
- [ ] Campo "Estado" (Confirmado, Pendiente, Cancelado)
- [ ] Referencias a alojamientos

**CASOS DE CAMBIO DE EVENTOS (parte del flujo normal):**
- **Crear evento DURANTE ejecuci√≥n:** ‚úÖ Permitido ‚Üí Asignar participantes, configurar alarma si <2h, notificar
- **Modificar evento DURANTE planificaci√≥n:** ‚úÖ Permitido ‚Üí Detectar solapamientos, notificar si cambio significativo
- **Modificar evento DURANTE ejecuci√≥n (<24h):** ‚ö†Ô∏è Urgente ‚Üí Notificar a todos, actualizar alarmas, posible cancelaci√≥n
- **Modificar evento DURANTE ejecuci√≥n (>24h):** ‚úÖ Permitido ‚Üí Notificar, actualizar alarmas normalmente
- **Eliminar evento DURANTE planificaci√≥n:** ‚úÖ Permitido ‚Üí Eliminar, recalculcar presupuesto (T101), notificar
- **Eliminar evento DURANTE ejecuci√≥n (<24h):** ‚ö†Ô∏è Urgente ‚Üí Eliminar, notificar urgente, calcular reembolsos si aplica (T102)
- **Eliminar evento DURANTE ejecuci√≥n (pasado):** ‚ùå No permitido ‚Üí Solo a√±adir notas post-evento
- **Historial de cambios:** Registro de qui√©n, cu√°ndo y qu√© cambi√≥ en cada evento

**Mejoras necesarias:**
- [ ] Validaci√≥n de formularios (T51)
- [ ] Eventos recurrentes (T119)
- [ ] Registro participantes por evento (T117)
- [ ] Confirmaci√≥n asistencia eventos (T120)
- [ ] Plantillas de eventos frecuentes
- [ ] Importar eventos desde calendarios externos
- [ ] Sistema de notificaciones autom√°ticas para cambios de eventos (T105)
- [ ] Historial/auditor√≠a de cambios de eventos

#### 2.2 - A√±adir Desplazamientos ‚ö†Ô∏è Implementado parcial
- [x] Crear eventos de tipo desplazamiento
- [x] Taxi, Avi√≥n, Tren b√°sico
- [x] Timezone salida/llegada

**LO QUE FALTA:**
- [ ] Formularios espec√≠ficos para cada tipo (seg√∫n `EVENT_FORM_FIELDS.md`):
  - Avi√≥n: Asiento, gate, n√∫mero vuelo, terminal, men√∫ especial, asistencia
  - Tren: Vag√≥n, asiento, clase, men√∫
  - Autob√∫s: N√∫mero asiento, planta, locker
  - Taxi: Referencia, tipo veh√≠culo, sillas ni√±os
  - Ferry: Cabina, transporte embarcado
  - Alquiler coche: Conductores, GPS, sillas
- [ ] C√°lculo autom√°tico de rutas
- [ ] Estimar duraci√≥n por tipo
- [ ] Comparar precios de opciones
- [ ] Notificaciones de facturaci√≥n cierre

#### 2.3 - A√±adir Alojamientos ‚úÖ Implementado
- [x] Crear alojamientos
- [x] Check-in/check-out
- [x] Asignar participantes

**LO QUE FALTA:**
- [ ] Formularios espec√≠ficos por tipo (seg√∫n `EVENT_FORM_FIELDS.md`):
  - Hotel: N√∫mero habitaci√≥n, categor√≠a, servicios, tarifa
  - Apartamento: Anfitri√≥n, c√≥digo acceso, amenities
  - Hostal: Tipo habitaci√≥n, g√©nero, litera
  - Casa rural: Servicios, mascotas, chimenea
  - Camping: Parcela, tipo, servicios
- [ ] Localizaci√≥n en mapa
- [ ] Informaci√≥n check-in/check-out detallada
- [ ] Recordatorios de check-in/check-out
- [ ] Tracking de pagos de dep√≥sito

#### 2.4 - Eventos Recurrentes ‚ùå No implementado (T119)
**Lo que falta:**
- [ ] Crear eventos que se repiten (ej: desayuno cada d√≠a, clases diarias)
- [ ] Configurar frecuencia (diario, semanal, mensual)
- [ ] Definir excepciones (saltar un d√≠a)
- [ ] Edici√≥n en masa

---

### ETAPA 3: Organizaci√≥n y Detalles
**Objetivo:** Completar la informaci√≥n del plan

#### 3.1 - Presupuesto ‚ùå No implementado (T101)
**Lo que falta:**
- [ ] A√±adir coste a eventos y alojamientos
- [ ] Campo "Coste estimado" y "Coste real"
- [ ] Suma autom√°tica del presupuesto total
- [ ] Desglose por tipo de evento
- [ ] Desglose por participante
- [ ] Gr√°fico de distribuci√≥n de costes
- [ ] Tracking de gastos reales vs estimado

#### 3.2 - Gesti√≥n de Pagos ‚ùå No implementado (T102)
**Lo que falta:**
- [ ] Registro de pagos por participante
- [ ] Sistema de bote com√∫n
- [ ] Tracking de "qui√©n pag√≥ qu√©"
- [ ] C√°lculo de "qui√©n debe pagar/cobrar"
- [ ] Integraci√≥n con divisores de factura
- [ ] Estado de pagos (Pendiente, Pagado, Reembolsado)

#### 3.3 - Listas del Plan ‚ùå No implementado (T111)
**Lo que falta:**
- [ ] Crear listas (ej: "Qu√© traer a la comida", "Checklist equipaje")
- [ ] Items de lista con checkboxes
- [ ] Asignar items a participantes
- [ ] Estado de cada item (por hacer, en curso, hecho)

#### 3.4 - Alarmas y Recordatorios ‚ùå No implementado (T110)
**Lo que falta:**
- [ ] A√±adir alarmas/recordatorios a eventos
- [ ] Configurar tiempo antes (ej: "1 hora antes")
- [ ] Notificaciones push
- [ ] Snooze/Dismiss
- [ ] Recordatorios globales del plan

---

### ETAPA 4: Validaci√≥n y Verificaci√≥n
**Objetivo:** Asegurar que el plan es coherente y completo

#### 4.1 - Validaci√≥n Autom√°tica ‚ùå No implementado
**Lo que falta:**
- [ ] Detectar solapamientos de eventos (ya existe parcialmente)
- [ ] Alertar si un evento sale fuera del rango del plan
- [ ] Detectar "d√≠as vac√≠os" sin actividades
- [ ] Detectar participantes sin eventos asignados
- [ ] Validar timezones consistentes
- [ ] Verificar que check-in se alinea con llegadas
- [ ] Sugerir optimizaci√≥n de rutas

#### 4.2 - Estad√≠sticas y Resumen ‚ùå No implementado (T113)
**Lo que falta:**
- [ ] Resumen de actividades (N√∫mero de eventos, desplazamientos, alojamientos)
- [ ] Duraci√≥n total del plan
- [ ] Participantes activos vs totales
- [ ] Gr√°fico de distribuci√≥n temporal
- [ ] D√≠as con m√°s/menos actividad
- [ ] Estad√≠sticas de presupuesto (gasto promedio por d√≠a, por participante)

#### 4.3 - Mapa del Plan ‚ùå No implementado (T114)
**Lo que falta:**
- [ ] Visualizar todos los eventos en mapa
- [ ] Optimizar ruta de eventos (opcional, avanzado)
- [ ] Ver ruta seg√∫n orden de eventos
- [ ] Distancia total estimada
- [ ] Tiempo estimado de traslados
- [ ] Alertas de "lugares lejanos"

---

### ETAPA 5: Compartir y Colaborar
**Objetivo:** Permitir que otros participen y vean el plan

#### 5.1 - Invitaciones ‚ùå No implementado (T104)
**Lo que falta:**
- [ ] Invitar participantes por email
- [ ] Invitar por usuario/nickname
- [ ] Enviar invitaci√≥n con link
- [ ] Notificaciones de invitaci√≥n
- [ ] Aceptar/rechazar invitaci√≥n
- [ ] Estados de invitaci√≥n (Pendiente, Aceptada, Rechazada)
- [ ] Reminder de invitaciones pendientes

#### 5.2 - Notificaciones ‚ùå No implementado (T105)
**Lo que falta:**
- [ ] Sistema de avisos/notificaciones unidireccionales
- [ ] Publicar aviso al plan
- [ ] Todos los participantes reciben notificaci√≥n
- [ ] Historial de avisos
- [ ] Notificaci√≥n cuando alguien modifica el plan

#### 5.3 - Fotos y Recuerdos ‚ùå No implementado (T115)
**Lo que falta:**
- [ ] A√±adir fotos al plan (no a eventos espec√≠ficos)
- [ ] Galer√≠a del plan
- [ ] Compartir fotos con participantes
- [ ] Slideshow de fotos

---

### ETAPA 6: Ejecuci√≥n del Plan
**Objetivo:** Durante la ejecuci√≥n del plan

#### 6.1 - Seguimiento en Tiempo Real ‚ùå No implementado
**Lo que falta:**
- [ ] Estado del plan cambia a "En curso"
- [ ] Marcador de "d√≠a actual" en el calendario
- [ ] Eventos "pasados" vs "pr√≥ximos"
- [ ] Contador "Pr√≥ximos eventos hoy"

#### 6.2 - Actualizaci√≥n Din√°mica ‚ö†Ô∏è Parcial
**Lo que falta:**
- [ ] Editar eventos durante ejecuci√≥n
- [ ] Actualizar timezone cuando un participante viaja
- [ ] Cambiar estado de evento (Confirmado ‚Üí En curso ‚Üí Completado)
- [ ] A√±adir notas post-evento (ej: "Llegamos tarde")

#### 6.3 - Listas de Tareas en Vivo ‚úÖ Implementado parcialmente
**Lo que falta:**
- [ ] Marcar items de listas como completados
- [ ] Notificaciones de "next up"
- [ ] Tracking de progreso

---

### ETAPA 7: Post-Ejecuci√≥n
**Objetivo:** Despu√©s de que termine el plan

#### 7.1 - Cierre del Plan ‚ùå No implementado
**Lo que falta:**
- [ ] Cambiar estado a "Finalizado"
- [ ] No permitir ediciones
- [ ] Resumen final del plan
- [ ] Exportar plan como PDF
- [ ] Guardar como template

#### 7.2 - Evaluaci√≥n ‚ùå No implementado
**Lo que falta:**
- [ ] Valoraci√≥n del plan por participantes
- [ ] Comentarios generales
- [ ] Estad√≠sticas finales (T113)
- [ ] Comparar presupuesto real vs estimado (T101)
- [ ] Cierre de pagos pendientes (T102)

#### 7.3 - Recuerdos ‚úÖ Implementado parcialmente (fotos)
**Lo que falta:**
- [ ] A√±adir fotos de eventos espec√≠ficos
- [ ] Comentarios en fotos
- [ ] Slideshow autom√°tico
- [ ] Descargar todas las fotos

---

## üìã TAREAS RELACIONADAS CON ESTE FLUJO

### Ya Implementadas ‚úÖ
- T40-T45: Timezones b√°sicos
- T68-T70, T72: Sistema de Tracks
- T74-T75: Eventos Parte Com√∫n + Personal
- T76: Campos din√°micos (parcial)

### Pendientes de Este Flujo ‚è≥
- **T51**: Validaci√≥n de Formularios (CR√çTICO para Etapa 2)
- **T100**: Visualizaci√≥n de Timezones en calendario (Etapa 2)
- **T101**: Sistema de Presupuesto (Etapa 3.1)
- **T102**: Sistema de Pagos y Bote Com√∫n (Etapa 3.2)
- **T104**: Sistema de Invitaciones (Etapa 5.1)
- **T105**: Sistema de Notificaciones (Etapa 5.2)
- **T107**: Actualizaci√≥n din√°mica de duraci√≥n del plan (Etapa 2, 6)
- **T108**: Indicador de participaci√≥n (Etapa 1.2)
- **T109**: Estados del Plan (Etapas 1.1, 6.1, 7.1)
- **T110**: Sistema de Alarmas (Etapa 3.4)
- **T111**: Sistema de Listas (Etapa 3.3)
- **T112**: Indicador de d√≠as restantes (Etapa 1.3)
- **T113**: Estad√≠sticas del Plan (Etapas 4.2, 7.2)
- **T114**: Mapa del Plan (Etapa 4.3)
- **T115**: Sistema de Fotos (Etapa 5.3)
- **T116**: Pantalla Resumen/Dashboard m√≥vil (Todas las etapas)
- **T117**: Registro participantes por evento (Etapa 2.1)
- **T119**: Eventos Recurrentes (Etapa 2.4)
- **T120**: Confirmaci√≥n asistencia eventos (Etapa 2.1)
- **T121**: Enriquecimiento Formularios (CR√çTICO para Etapas 2.1-2.3)

### Tareas de Mejora Continua üîß
- Copiar y pegar planes completos (T118)
- Validaci√≥n autom√°tica de coherencia (T96-T98)
- Mejoras visuales (T91-T92)

---

## üéØ PRIORIZACI√ìN SUGERIDA

### FASE 1: Crear Plans B√°sicos Completos (ALTA)
**Tareas necesarias:**
1. **T121** - Enriquecer formularios de eventos/alojamientos (CR√çTICO)
2. **T109** - Estados del plan
3. **T107** - Auto-expansi√≥n de duraci√≥n del plan

### FASE 2: Gesti√≥n Financiera (MEDIA)
**Tareas necesarias:**
1. **T101** - Sistema de presupuesto
2. **T102** - Sistema de pagos y bote com√∫n

### FASE 3: Colaboraci√≥n (MEDIA)
**Tareas necesarias:**
1. **T104** - Invitaciones
2. **T105** - Notificaciones
3. **T108** - Indicador de participaci√≥n

### FASE 4: Mejoras Experiencia (BAJA)
**Tareas necesarias:**
1. **T111** - Listas del plan
2. **T110** - Alarmas
3. **T115** - Fotos del plan

### FASE 5: An√°lisis y Optimizaci√≥n (BAJA)
**Tareas necesarias:**
1. **T113** - Estad√≠sticas
2. **T114** - Mapa del plan

---

## ü§î DECISIONES NECESARIAS

### T√©cnicas
1. ¬øC√≥mo estructuramos campos flexibles en formularios? ¬øMap<String, dynamic> o modelo espec√≠fico?
2. ¬øIntegraci√≥n con Google Maps/Places? ¬øCoste vs Beneficio?
3. ¬øSistema de plantillas predefinidas o solo creaci√≥n manual?
4. ¬øC√≥mo validamos cambios durante ejecuci√≥n vs. "modo planificaci√≥n"?

### UX
1. ¬øFlujo √∫nico de creaci√≥n o paso a paso (wizard)?
2. ¬øModo "borrador" vs "confirmado" con bloqueos?
3. ¬øC√≥mo mostramos "lo que falta" al usuario?
4. ¬øDashboard resumen visible durante creaci√≥n?

### Participantes (ETAPA 1.2) - CR√çTICO
**Sistema de identificaci√≥n de usuarios (DECISI√ìN NECESARIA):**

1. **¬øC√≥mo identificamos usuarios?**
   - Opci√≥n A: Solo por email (actual)
   - Opci√≥n B: Email + Username (@juancarlos)
   - **Recomendado: Opci√≥n B** - Email como ID √∫nico + Username para b√∫squeda

2. **¬øC√≥mo buscar/invitar usuarios?**
   - Por email (si no tienen username)
   - Por username (@juancarlos)
   - Por nombre (displayName)
   - Por contactos frecuentes (historial)

3. **¬øSistema de invitaciones requiere backend? ¬øLink de acceso con token?**
   - Opci√≥n A: Invitar solo usuarios registrados (simple)
   - Opci√≥n B: Invitar por email con link que crea cuenta autom√°ticamente
   - **Recomendado: Opci√≥n B** para facilitar adopci√≥n

4. **¬øGrupos de participantes: ¬øC√≥mo almacenarlos? ¬øBase de datos separada o en plan?**
   - Base de datos separada: `contact_groups` (recomendado)
   - Vinculados al usuario propietario
   - Persistentes entre planes

5. **¬øAuto-sugerir grupos seg√∫n historial de planes anteriores?**
   - S√≠, sugerir contactos frecuentes
   - Mostrar "¬øInvitar de nuevo a estos participantes?"

6. **¬øL√≠mite de participantes por tipo de plan? ¬øQui√©n configura el l√≠mite?**
   - L√≠mite default: 50 participantes
   - Configurable por tipo de plan
   - Anfitri√≥n puede cambiar l√≠mite

7. **¬øQu√© hacer cuando un participante no confirma? ¬øRecordatorios autom√°ticos?**
   - 1 email al crear
   - Recordatorio 2 d√≠as antes
   - Email final 12h antes
   - Bot√≥n "Remind" en UI

8. **¬øPermitir agregar participantes DURANTE la ejecuci√≥n del plan?**
   - S√≠, siempre se puede a√±adir
   - Con limitaci√≥n: "Plan iniciado, se a√±adir√° a eventos futuros"

**DECISI√ìN TOMADA ‚úÖ: `username` a√±adido al UserModel**
- Campo `username` (opcional) a√±adido
- Getter `displayIdentifier` para mostrar "@username" o nombre/email
- Compatibilidad hacia atr√°s mantenida

---

---

## üîê MATRIZ DE PERMISOS POR ACCI√ìN

| Acci√≥n | Planificaci√≥n | Confirmado | En Ejecuci√≥n | Finalizado |
|--------|--------------|------------|--------------|------------|
| **Crear evento** | ‚úÖ Todos | ‚ö†Ô∏è Solo organizador | ‚ö†Ô∏è Solo organizador | ‚ùå No |
| **Editar evento** | ‚úÖ Participantes | ‚ö†Ô∏è Solo organizador | ‚ö†Ô∏è Solo organizador/urgente | ‚ùå No |
| **Eliminar evento** | ‚úÖ Organizador | ‚ö†Ô∏è Solo organizador | ‚ùå No | ‚ùå No |
| **A√±adir participante** | ‚úÖ Organizador | ‚ö†Ô∏è Solo organizador | ‚ö†Ô∏è Solo organizador | ‚ùå No |
| **Eliminar participante** | ‚úÖ Organizador | ‚ö†Ô∏è Solo organizador | ‚ö†Ô∏è Solo organizador | ‚ùå No |
| **Modificar presupuesto** | ‚úÖ Organizador | ‚ö†Ô∏è Con confirmaci√≥n | ‚ùå No | ‚ùå No |
| **Eliminar plan** | ‚úÖ Organizador | ‚ö†Ô∏è Con confirmaci√≥n | ‚ùå No (solo cancelar) | ‚ùå No (archivar) |
| **A√±adir foto** | ‚úÖ Todos | ‚úÖ Todos | ‚úÖ Todos | ‚úÖ Todos |

---

## üîî NOTIFICACIONES PARA CAMBIOS

**Tipos de cambios que requieren notificaci√≥n (T105):**
1. ‚úÖ Cambio de hora de evento (<24h antes)
2. ‚úÖ Cambio de ubicaci√≥n de evento
3. ‚úÖ Cancelo de evento
4. ‚úÖ Participante eliminado del plan
5. ‚úÖ Participante a√±adido al plan
6. ‚úÖ Cambio de rol de participante
7. ‚úÖ Plan cancelado/completado
8. ‚úÖ Presupuesto cambiado significativamente
9. ‚úÖ Alarma de recordatorio (T110)
10. ‚úÖ Nuevo aviso del organizador

---

## üìù PR√ìXIMOS PASOS INMEDIATOS

1. ‚úÖ **Completar** este documento con feedback del usuario
2. ‚úÖ **Crear** tareas nuevas si faltan elementos del flujo (T121, T122, T123, T124)
3. ‚úÖ **Integrar** casos de cambio en cada etapa del flujo
4. ‚úÖ **Priorizar** tareas existentes seg√∫n flujo
5. üîÑ **Empezar** con FASE 1 (Formularios enriquecidos - T121)

---

## ‚úÖ TAREAS CREADAS HOY

1. **T121** - Revisi√≥n y Enriquecimiento de Formularios
2. **T122** - Guardar Plan como Plantilla
3. **T123** - Sistema de Grupos de Participantes
4. **T124** - Dashboard Administrativo de Plataforma
5. ‚úÖ **Username a√±adido al UserModel**
6. ‚úÖ **Flujo completo con casos integrados**

---

*Documento creado para definir el flujo completo de creaci√≥n de planes*  
*√öltima actualizaci√≥n: Enero 2025*

